{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/auth/loginDashboard":{"post":{"operationId":"AuthController_loginDashboard","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"Resposta de autenticação. Contém token de acesso, token de atualização e dados do usuário autenticado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAuthDto"}}}},"403":{"description":"Senha incorreta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"404":{"description":"Usuário não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Auth"]}},"/auth/loginMobile":{"post":{"operationId":"AuthController_loginMobile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"Resposta de autenticação. Contém token de acesso, token de atualização e dados do usuário autenticado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAuthDto"}}}},"403":{"description":"Senha incorreta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"404":{"description":"Usuário não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Auth"]}},"/auth/refreshToken":{"post":{"operationId":"AuthController_refreshToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDto"}}}},"responses":{"201":{"description":"Token de autenticação atualizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAuthDto"}}}}},"tags":["Auth"]}},"/auth/userAuth":{"get":{"operationId":"AuthController_getUserAuth","parameters":[],"responses":{"200":{"description":"Usuário autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAuth"}}}}},"tags":["Auth"]}},"/companies":{"get":{"operationId":"CompaniesController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Company"}}}}}},"tags":["Companies"]},"post":{"operationId":"CompaniesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompanyDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"409":{"description":"CNPJ já cadastrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictException"}}}}},"tags":["Companies"]},"put":{"operationId":"CompaniesController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"404":{"description":"Empresa não encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}},"409":{"description":"CNPJ já cadastrado ou E-mail já cadastrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictException"}}}}},"tags":["Companies"]}},"/companies/{id}":{"get":{"operationId":"CompaniesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}}},"404":{"description":"Empresa não encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Companies"]},"delete":{"operationId":"CompaniesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""},"404":{"description":"Empresa não encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Companies"]}},"/employees":{"post":{"operationId":"EmployeesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmployeeDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmployeeResponse"}}}},"409":{"description":"Registro já cadastrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictException"}}}}},"tags":["Employees"]},"get":{"operationId":"EmployeesController_findList","parameters":[{"name":"query","required":false,"in":"query","description":"Query de busca","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","description":"Limite de registros por página","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","description":"Página de registros","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EmployeeListDto"}}}}}},"tags":["Employees"]},"put":{"operationId":"EmployeesController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEmployeeDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Employee"}}}},"404":{"description":"Registro não encontrado"},"409":{"description":"Registro já cadastrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictException"}}}}},"tags":["Employees"]}},"/checklists":{"post":{"operationId":"ChecklistsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCheckListDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckList"}}}}},"tags":["Checklists"]},"get":{"operationId":"ChecklistsController_findPaginatedByParams","parameters":[{"name":"startDate","required":false,"in":"query","description":"Data inicial","schema":{"type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Data final","schema":{"type":"string"}},{"name":"byCompany","required":false,"in":"query","description":"Buscar por empresa","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","description":"Limite de registros por página","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","description":"Página de registros","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckListItemFormattedList"}}}}}},"tags":["Checklists"]}},"/checklists/by-employee":{"get":{"operationId":"ChecklistsController_findPaginatedByEmployeeParams","parameters":[{"name":"employeeId","required":true,"in":"query","description":"ID do funcionário","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckListForSpecificEmployee"}}}}}},"tags":["Checklists"]}},"/checklists/update-company-related":{"put":{"operationId":"ChecklistsController_updateCompanyId","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyRelated"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckListItem"}}}},"404":{"description":"ChecklistItem não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Checklists"]}},"/checklists/update-expiries-time":{"put":{"operationId":"ChecklistsController_updateExpiriesTime","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/updateExpiriesTime"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckList"}}}},"404":{"description":"Checklist não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Checklists"]}},"/roles":{"get":{"operationId":"RolesController_findList","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Roles"}}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}}},"tags":["Roles"]}},"/categories":{"get":{"operationId":"CategoriesController_findList","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Categories"}}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}}},"tags":["Categories"]},"post":{"operationId":"CategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoriesDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Categories"}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"409":{"description":"Registro já cadastrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictException"}}}}},"tags":["Categories"]}},"/questions":{"get":{"operationId":"QuestionsController_findList","parameters":[{"name":"checkListItemId","required":true,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","description":"Limite de registros por página","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","description":"Página de registros","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionsWithChoices"}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}}},"tags":["Questions"]},"post":{"operationId":"QuestionsController_createQuestion","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Question"}}}},"422":{"description":"Erro ao criar registro","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntityException"}}}}},"tags":["Questions"]},"put":{"operationId":"QuestionsController_updateQuestion","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestion"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Question"}}}},"404":{"description":"Registro não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Questions"]},"delete":{"operationId":"QuestionsController_deleteQuestion","parameters":[{"name":"questionId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Pergunta deletada com sucesso"},"404":{"description":"Registro não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Questions"]}},"/questions/findAll":{"get":{"operationId":"QuestionsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionsWithChoices"}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}}},"tags":["Questions"]}},"/answers":{"get":{"operationId":"AnswersController_findList","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Answers"}}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}}},"tags":["Answers"]},"post":{"operationId":"AnswersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAnswerDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerResponse"}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"404":{"description":"Registro não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}},"422":{"description":"Campos obrigatórios ausentes","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntityException"}}}}},"tags":["Answers"]}},"/answers/answers-question":{"get":{"operationId":"AnswersController_findByQuestionId","parameters":[{"name":"limit","required":true,"in":"query","description":"Limite de registros por página","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","description":"Página de registros","schema":{"type":"string"}},{"name":"question_id","required":true,"in":"query","description":"question_id","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Answers"}}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"404":{"description":"Registro não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}}},"tags":["Answers"]}},"/answers/answers-image-question":{"post":{"operationId":"AnswersController_createForImageQuestion","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"image":{"type":"string","format":"binary"},"question_id":{"type":"string"},"employee_id":{"type":"string"}}}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerResponse"}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"422":{"description":"Campos obrigatórios ausentes","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntityException"}}}}},"tags":["Answers"]}},"/answers/answers-multiple-choice-question":{"post":{"operationId":"AnswersController_createForMultipleQuestion","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAnswerChoice"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerChoice"}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}},"404":{"description":"Registro não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundException"}}}},"422":{"description":"Campos obrigatórios ausentes","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntityException"}}}}},"tags":["Answers"]}},"/answers/answers-checklist":{"get":{"operationId":"AnswersController_findAnswersWithCheckList","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AnswersWithQuestions"}}}}},"401":{"description":"Usuário não autenticado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedException"}}}}},"tags":["Answers"]}}},"info":{"title":"Indicador Online API","description":"Documentação da API usando Swagger","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http","in":"header"}},"schemas":{"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"usuario@example.com","description":"Endereço de e-mail do usuário"},"password":{"type":"string","example":"senha123","description":"Senha do usuário (mínimo 4 caracteres)","minLength":4}},"required":["email","password"]},"UserAuth":{"type":"object","properties":{"id":{"type":"string","example":"1","description":"ID do usuário"},"name":{"type":"string","example":"Usuário","description":"Nome do usuário"},"email":{"type":"string","description":"Email do funcionário"},"role":{"type":"string","example":"user","description":"Função do usuário"}},"required":["id","name","email","role"]},"ResponseAuthDto":{"type":"object","properties":{"access_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9","description":"Token de acesso"},"refresh_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9","description":"Token de atualização"},"user":{"example":{"id":"1","name":"Usuário","email":"usuario@example.com","role":"user"},"description":"Dados do usuário autenticado","allOf":[{"$ref":"#/components/schemas/UserAuth"}]}},"required":["access_token","refresh_token","user"]},"UnauthorizedException":{"type":"object","properties":{}},"NotFoundException":{"type":"object","properties":{}},"TokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9","description":"Token de atualização"}},"required":["refreshToken"]},"Company":{"type":"object","properties":{"id":{"type":"number","example":1,"description":"ID da empresa"},"name":{"type":"string","example":"Empresa XYZ","description":"Nome da empresa"},"email":{"type":"string","example":"emprese@empresa.com","description":"Email da empresa"},"cnpj":{"type":"string","example":"12.345.678/0001-99","description":"CNPJ da empresa"},"isActive":{"type":"boolean","example":true,"description":"Se a empresa está ativa"},"created_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Data de criação da empresa"},"updated_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Última atualização da empresa"},"role_id":{"type":"string","description":"Id do Nível de acesso da empresa"},"password":{"type":"string","description":"Senha da empresa"}},"required":["id","name","email","cnpj","isActive","role_id","password"]},"CreateCompanyDto":{"type":"object","properties":{"name":{"type":"string","example":"Empresa XYZ","description":"Nome da empresa"},"cnpj":{"type":"string","example":"12345678000199","description":"CNPJ da empresa"},"isActive":{"type":"boolean","example":true,"description":"Se a empresa está ativa ou não"},"email":{"type":"string","description":"Email da empresa"},"roleId":{"type":"string","example":"1","description":"ID do nível de acesso associada à empresa"}},"required":["name","cnpj","isActive","email","roleId"]},"CompanyResponse":{"type":"object","properties":{"id":{"type":"number","example":1,"description":"ID da empresa"},"name":{"type":"string","example":"Empresa XYZ","description":"Nome da empresa"},"email":{"type":"string","example":"emprese@empresa.com","description":"Email da empresa"},"cnpj":{"type":"string","example":"12.345.678/0001-99","description":"CNPJ da empresa"},"isActive":{"type":"boolean","example":true,"description":"Se a empresa está ativa"},"created_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Data de criação da empresa"},"updated_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Última atualização da empresa"},"role_id":{"type":"string","description":"Id do Nível de acesso da empresa"}},"required":["id","name","email","cnpj","isActive","role_id"]},"ConflictException":{"type":"object","properties":{}},"UpdateCompanyDto":{"type":"object","properties":{"id":{"type":"number","description":"ID da empresa"},"name":{"type":"string","example":"Empresa XYZ","description":"Nome da empresa"},"cnpj":{"type":"string","example":"12345678000199","description":"CNPJ da empresa"},"isActive":{"type":"boolean","example":true,"description":"Se a empresa está ativa ou não"},"email":{"type":"string","description":"Email da empresa"},"roleId":{"type":"string","example":"1","description":"ID do nível de acesso associada à empresa"}},"required":["id","name","cnpj","isActive","email","roleId"]},"CreateEmployeeDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome do funcionário"},"email":{"type":"string","description":"Email do funcionário"},"phone":{"type":"string","description":"Telefone do funcionário"},"company_id":{"type":"number","description":"ID da empresa do funcionário"},"roleId":{"type":"string","description":"Id do nível do funcionário"}},"required":["name","email","phone","company_id","roleId"]},"CreateEmployeeResponse":{"type":"object","properties":{"id":{"type":"number","description":"Id do funcionário"},"name":{"type":"string","description":"Nome do funcionário"},"email":{"type":"string","description":"Email do funcionário"},"company_id":{"type":"number","description":"ID da empresa do funcionário"},"phone":{"type":"string","description":"Telefone do funcionário"}},"required":["id","name","email","company_id","phone"]},"EmployeeListDto":{"type":"object","properties":{"id":{"type":"number","description":"Id do funcionário"},"name":{"type":"string","description":"Nome do funcionário"},"email":{"type":"string","description":"Email do funcionário"},"phone":{"type":"string","description":"Telefone do funcionário"},"company_name":{"type":"string","description":"Nome da empresa"},"role_name":{"type":"string","description":"Nome do nível de acesso"},"company_id":{"type":"number","description":"ID da empresa do funcionário"}},"required":["id","name","email","phone","company_name","role_name","company_id"]},"UpdateEmployeeDto":{"type":"object","properties":{"id":{"type":"number","description":"Id do funcionário"},"name":{"type":"string","description":"Nome do funcionário"},"email":{"type":"string","description":"Email do funcionário"},"phone":{"type":"string","description":"Telefone do funcionário"},"company_id":{"type":"number","description":"ID da empresa do funcionário"},"role_id":{"type":"string","description":"Id do nível do funcionário"},"isActive":{"type":"boolean","description":"Status do funcionário"}},"required":["id"]},"Employee":{"type":"object","properties":{"id":{"type":"number","description":"Id do funcionário"},"name":{"type":"string","description":"Nome do funcionário"},"email":{"type":"string","description":"Email do funcionário"},"phone":{"type":"string","description":"Telefone do funcionário"},"company_id":{"type":"number","description":"ID da empresa do funcionário"},"password":{"type":"string","description":"Senha do funcionário"},"role_id":{"type":"string","description":"Id do nível do funcionário"},"questionId":{"type":"string","description":"Id do nível do funcionário"},"isActive":{"type":"boolean","description":"Status do funcionário"}},"required":["id","name","email","phone","company_id","password","role_id","questionId","isActive"]},"CheckListMultipleChoiceDto":{"type":"object","properties":{"choice":{"type":"string","description":"Escolha"},"anomalyStatus":{"type":"string","description":"É anomalia","enum":["ANOMALIA","ANOMALIA_RESTRITIVA"],"nullable":true}},"required":["choice","anomalyStatus"]},"CheckListQuestionsDto":{"type":"object","properties":{"question":{"type":"string","description":"Pergunta"},"answerType":{"type":"string","description":"Tipo de resposta esperada para a pergunta","enum":["Text","Image","IA"]},"type":{"type":"string","description":"Tipo da pergunta","enum":["Texto","Múltipla escolha","Upload de arquivo"]},"isRequired":{"type":"boolean","description":"É obrigatória"},"iaPrompt":{"type":"string","description":"Prompt da IA"},"multiple_choice":{"description":"questions","type":"array","items":{"$ref":"#/components/schemas/CheckListMultipleChoiceDto"}}},"required":["question","answerType","type","isRequired"]},"CreateCheckListItemDto":{"type":"object","properties":{"categoriesId":{"type":"string","description":"categories_id"},"question_list":{"description":"Lista de perguntas","type":"array","items":{"$ref":"#/components/schemas/CheckListQuestionsDto"}}},"required":["categoriesId","question_list"]},"CreateCheckListDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome do checklist","example":"Checklist de Segurança"},"checkListItem":{"description":"CheckListItem","example":[{"categoriesId":"string","question_list":[{"question":"O carro está sujo?","type":"Múltipla escolha","isRequired":true,"answerType":"Text","multiple_choice":[{"choice":"Sim","anomalyStatus":"ANOMALIA"},{"choice":"Não"}]},{"question":"Os vidros estão limpos?","type":"Texto","answerType":"Text","isRequired":true,"multiple_choice":[],"iaPrompt":"Verifique se de acordo com a resposta do funcionário \"Os vidros estão limpos\". Caso não esteja, responda: Alerta de anomalia. Caso esteja, responda: Ok."},{"question":"Placa do carro","type":"Upload de arquivo","answerType":"Image","isRequired":true,"multiple_choice":[],"iaPrompt":""}]},{"categoriesId":"string","question_list":[{"question":"O motor está em bom estado?","type":"Múltipla escolha","isRequired":true,"answerType":"Text","multiple_choice":[{"choice":"Sim"},{"choice":"Não","anomalyStatus":"ANOMALIA_RESTRITIVA"},{"choice":"N/A","anomalyStatus":"ANOMALIA_RESTRITIVA"}]},{"question":"O freio está funcionando?","type":"Texto","answerType":"Text","isRequired":true,"multiple_choice":[],"iaPrompt":"Verifique se de acordo com a resposta do funcionário o freio está funcionando corretamente. Caso não esteja, responda: Alerta de anomalia. Caso esteja, responda: Ok."}]}],"type":"array","items":{"$ref":"#/components/schemas/CreateCheckListItemDto"}}},"required":["name","checkListItem"]},"CheckList":{"type":"object","properties":{"id":{"type":"string","description":"ID do check List"},"name":{"type":"string","description":"Nome do checklist"},"expiries_in":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Data de expiração"},"images_expiries_in":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"tempo de expiração das imagens das questões vinculadas ao checklist"},"created_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Data de criação"},"updated_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"Última atualização"}},"required":["id","name","expiries_in","images_expiries_in","created_at","updated_at"]},"CheckListItemFormattedList":{"type":"object","properties":{"checklistItemId":{"type":"string","description":"id"},"categories_id":{"type":"string","description":"categories_id"},"checkList_id":{"type":"string","description":"checkList_id"},"created_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"created_at"},"updated_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"updated_at"},"company_id":{"type":"number","description":"company_id"},"checklistName":{"type":"string","description":"Nome do checklist"},"companyName":{"type":"string","description":"Nome da empresa vinculada ao checklist"},"companyId":{"type":"string","description":"ID da empresa vinculada ao checklist"},"hasAnomalies":{"type":"boolean","description":"Se o checklist tem anomalias"}},"required":["checklistItemId","categories_id","checkList_id","created_at","updated_at","company_id","checklistName","companyName","companyId","hasAnomalies"]},"CheckListForSpecificEmployee":{"type":"object","properties":{"checklistId":{"type":"string","description":"ID do checklist"},"checklistName":{"type":"string","description":"Nome do checklist"}},"required":["checklistId","checklistName"]},"UpdateCompanyRelated":{"type":"object","properties":{"companyId":{"type":"number","example":1,"description":"ID da empresa"},"checkListItemId":{"type":"string","description":"id"}},"required":["companyId","checkListItemId"]},"CheckListItem":{"type":"object","properties":{"id":{"type":"string","description":"id"},"categories_id":{"type":"string","description":"categories_id"},"checkList_id":{"type":"string","description":"checkList_id"},"created_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"created_at"},"updated_at":{"format":"date-time","type":"string","example":"2024-03-27T12:00:00Z","description":"updated_at"},"company_id":{"type":"number","description":"company_id"}},"required":["id","categories_id","checkList_id","created_at","updated_at","company_id"]},"updateExpiriesTime":{"type":"object","properties":{"expiriesTime":{"type":"string","example":"2024-03-27T12:00:00Z","description":"Data de expiração"},"imagesExpiriesTime":{"type":"string","example":"2024-03-27T12:00:00Z","description":"tempo de expiração das imagens das questões vinculadas ao checklist"},"checkListId":{"type":"string","description":"id"}},"required":["expiriesTime","imagesExpiriesTime","checkListId"]},"Roles":{"type":"object","properties":{"id":{"type":"string","description":"Id do nível de acesso"},"name":{"type":"string","description":"Nome do nível de acesso"},"created_at":{"format":"date-time","type":"string","description":"Data de criação"},"updated_at":{"format":"date-time","type":"string","description":"Data de atualização"}},"required":["id","name","created_at","updated_at"]},"Categories":{"type":"object","properties":{"id":{"type":"string","description":"Id da categoria de acesso"},"name":{"type":"string","description":"Nome da categoria de acesso"},"created_at":{"format":"date-time","type":"string","description":"Data de criação"},"updated_at":{"format":"date-time","type":"string","description":"Data de atualização"}},"required":["id","name","created_at","updated_at"]},"CreateCategoriesDto":{"type":"object","properties":{"name":{"type":"string","description":"Nome da categoria de acesso"}},"required":["name"]},"choices":{"type":"object","properties":{"id":{"type":"string"},"choice":{"type":"string"},"anomalyStatus":{"type":"string","enum":["ANOMALIA","ANOMALIA_RESTRITIVA"]},"created_at":{"format":"date-time","type":"string"},"question_id":{"type":"string"},"updated_at":{"format":"date-time","type":"string"}},"required":["id","choice","anomalyStatus","created_at","question_id","updated_at"]},"QuestionsWithChoices":{"type":"object","properties":{"id":{"type":"string","description":"ID da questão"},"question":{"type":"string","description":"Questão"},"type":{"type":"string","description":"Tipo de resposta da questão","enum":["Upload de arquivo","Múltipla escolha","Texto"]},"isRequired":{"type":"boolean","description":"Se a questão é obrigatória"},"checkListItem_id":{"type":"string","description":"ID do checklist"},"IAPrompt":{"type":"string","description":"Prompt da IA","nullable":true},"choices":{"description":"Se multipla escolha as question choices","type":"array","items":{"$ref":"#/components/schemas/choices"}}},"required":["id","question","type","isRequired","checkListItem_id","IAPrompt"]},"choicesDto":{"type":"object","properties":{"choice":{"type":"string"},"anomaly":{"type":"string","enum":["ANOMALIA","ANOMALIA_RESTRITIVA"]}},"required":["choice"]},"QuestionDto":{"type":"object","properties":{"question":{"type":"string","description":"question"},"type":{"type":"string","description":"type"},"employee_id":{"type":"number","description":"employee_id"},"isRequired":{"type":"boolean","description":"isRequired"},"checkListItem_id":{"type":"string","description":"checkListItem_id"},"IAPrompt":{"type":"string","description":"IAPrompt"},"answerType":{"type":"string","description":"answerType"},"choices":{"description":"Caso tenha múltipla escolha, as opções de resposta","type":"array","items":{"$ref":"#/components/schemas/choicesDto"}}},"required":["question","type","employee_id","isRequired","checkListItem_id","IAPrompt","answerType"]},"Question":{"type":"object","properties":{}},"UnprocessableEntityException":{"type":"object","properties":{}},"UpdateQuestion":{"type":"object","properties":{"questionId":{"type":"string","description":"id"},"question":{"type":"string","description":"question"},"type":{"type":"string","description":"type"},"employee_id":{"type":"number","description":"employee_id"},"isRequired":{"type":"boolean","description":"isRequired"},"checkListItem_id":{"type":"string","description":"checkListItem_id"},"IAPrompt":{"type":"string","description":"IAPrompt"},"answerType":{"type":"string","description":"answerType"}},"required":["questionId"]},"Answers":{"type":"object","properties":{"id":{"type":"string","description":"id"},"textAnswer":{"type":"string","description":"textAnswer"},"imageAnswer":{"type":"string","description":"imageAnswer"},"question_id":{"type":"string","description":"question_id"},"employee_id":{"type":"number","description":"employee_id"},"anomalyStatus":{"type":"string","description":"anomalyStatus"}},"required":["id","question_id","employee_id","anomalyStatus"]},"CreateAnswerDto":{"type":"object","properties":{"question_id":{"type":"string","description":"ID da pergunta"},"employee_id":{"type":"string","description":"ID do funcionário"},"textAnswer":{"type":"string","description":"Resposta da pergunta"}},"required":["question_id","employee_id","textAnswer"]},"AnswerResponse":{"type":"object","properties":{"id":{"type":"string","description":"id"},"textAnswer":{"type":"string","description":"textAnswer"},"imageAnswer":{"type":"string","description":"imageAnswer"},"question_id":{"type":"string","description":"question_id"},"employee_id":{"type":"number","description":"employee_id"},"anomalyStatus":{"type":"string","description":"anomalyStatus"},"openIaResponse":{"type":"string","description":"Resposta da IA"}},"required":["id","question_id","employee_id","anomalyStatus","openIaResponse"]},"CreateAnswerChoice":{"type":"object","properties":{"employee_id":{"type":"number","description":"ID do funcionário"},"choice_id":{"type":"string","description":"Resposta da pergunta"}},"required":["employee_id","choice_id"]},"AnswerChoice":{"type":"object","properties":{"id":{"type":"string","description":"id"},"choice_id":{"type":"string","description":"choice_id"},"employee_id":{"type":"number","description":"employee_id"},"created_at":{"format":"date-time","type":"string","description":"created_at"},"updated_at":{"format":"date-time","type":"string","description":"updated_at"}},"required":["id","choice_id","employee_id","created_at","updated_at"]},"AnswersWithQuestions":{"type":"object","properties":{"id":{"type":"string","description":"id"},"question":{"type":"string","description":"Questão vinculada a resposta"},"answer":{"type":"string","description":"Resposta da pergunta"},"question_id":{"type":"string","description":"question_id"},"companyName":{"type":"string","description":"Nome da empresa vinculada a quem respondeu"},"employeeName":{"type":"string","description":"Nome do empregado que respondeu"},"created_at":{"type":"string","description":"Data de criação da resposta"},"updated_at":{"type":"string","description":"Data de atualização da resposta"},"employee_id":{"type":"number","description":"employee_id"},"anomalyStatus":{"type":"string","description":"anomalyStatus","enum":["ANOMALIA","ANOMALIA_RESTRITIVA"]},"hasAnomaly":{"type":"boolean","description":"Se teve anomalia na resposta ou não"}},"required":["id","question","answer","question_id","companyName","employeeName","created_at","updated_at","employee_id","anomalyStatus","hasAnomaly"]}}},"security":[{"bearer":[]}]}